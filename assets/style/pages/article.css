/* ============================================================
   Article pages — reading (light theme) • NO HTML CHANGES
   ============================================================ */

/* ---------------------------------
   TOKEN: palette/vars (light only)
   --------------------------------- */
:root{
  --page-bg:        var(--neutral-50, #F3F2F7);
  --sheet-bg:       #F3F2F7;
  --sheet-border:   #E6E6EB;
  --rule-soft:      #E2E2E8;
  --text-strong:    #000000;
  --text-muted:     #000000; /* gestito via opacity */
  --quote-bg:       #ECEBF3;
  --pre-bg:         #EFEFF4;

  --teal-300:       var(--teal-300, #00ADB1);
  --teal-700:       var(--teal-700, #007D82);
  --gold-600:       var(--gold-600, #E0A402);

  --container-w:    820px;
  --container-pad-x: var(--container-pad-x, 16px);
  --radius-article: 14px;
  --radius-media:   12px;
}

/* Evita overlap con navbar fissa + bg pagina chiaro */
.article{
  padding-top:72px;
  background:var(--page-bg);
}
@media (min-width:1024px){
  .article{ padding-top:80px; }
}

/* ---------- HERO / META ---------- */
.article-hero{
  background:var(--page-bg);
  border-bottom:0;
}
.article-hero .container{
  max-width: var(--container-max);
  margin-inline: auto;
  padding: 10px var(--container-pad-x) 8px;
  text-align: left;
}

.article-meta{
  margin:0 0 8px;
  opacity:.85;
  font-size:.95rem;
  letter-spacing:.02em;
  font-family: "Open Sans", var(--font-sans, "Lexend Deca", system-ui, -apple-system, Segoe UI, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji");
  color:var(--text-muted);
}
.article-title{
  margin:0 0 10px;
  font-family:var(--font-display, var(--font-sans));
  font-weight:var(--fw-black,800);
  font-size:clamp(1.9rem, 1.2vw + 1.4rem, 2.4rem);
  line-height:1.15;
  letter-spacing:.2px;
  color:var(--text-strong);
}
.article-desc{
  margin:0;
  opacity:.95;
  font-size:clamp(1.05rem, .5vw + 1rem, 1.15rem);
  line-height:1.45;
  font-family: "Open Sans", var(--font-sans, "Lexend Deca", system-ui, -apple-system, Segoe UI, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji");
  color:var(--text-strong);
}

/* ---------- COVER ---------- */
.article-cover{ margin:0; }
.article-cover img{
  display:block; width:100%; height:auto; object-fit:cover;
  border-radius:var(--radius-media);
}

/* ---------- BODY / PROSE ---------- */
.article-body.container{
  max-width:var(--container-w);
  margin-inline:auto;
  padding:24px var(--container-pad-x) 80px;
  background:var(--sheet-bg);
  border:0;
  border-radius:var(--radius-article);
}

.article-body{
  font-family: "Open Sans", var(--font-sans, "Lexend Deca", system-ui, -apple-system, Segoe UI, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji");
  font-size:1rem;
  line-height:1.7;
  color:var(--text-strong);
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
  hanging-punctuation:first last;
  hyphens:auto;
  word-break:normal;
  overflow-wrap:anywhere;
}

/* testo giustificato */
.article-body p,
.article-body li{
  text-align:justify;
  text-wrap: pretty;
  hyphenate-limit-chars: 6 3 3;
}

.article-body p{ margin:0 0 1.1em; }
.article-body p + p{ text-indent:0; }

.article-body .is-lead{
  font-size:clamp(1.05rem, .4vw + 1rem, 1.2rem);
  line-height:1.65;
  opacity:.98;
  font-family: 'Open Sans', system-ui, -apple-system, Segoe UI, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Headings */
.article-body h2{
  margin: 2.0em 0 .6em;
  font-size: clamp(1.5rem, 1.1vw + 1.1rem, 1.9rem);
  line-height:1.25;
  letter-spacing:.2px;
  color:var(--text-strong);
  text-align:left;
}
.article-body h3{
  margin: 1.6em 0 .5em;
  font-size: clamp(1.25rem, .9vw + 1rem, 1.55rem);
  line-height:1.3;
  color:var(--text-strong);
  text-align:left;
}
.article-body h4{
  margin: 1.4em 0 .4em;
  font-size: clamp(1.05rem, .6vw + .95rem, 1.2rem);
  letter-spacing:.2px;
  opacity:.95;
  color:var(--text-strong);
  text-align:left;
}

/* Liste */
.article-body ul,
.article-body ol{
  margin:.8em 0 1.1em;
  padding-left:1.2em;
}
.article-body li{ margin:.28em 0; }
.article-body li::marker{
  color: color-mix(in oklab, var(--teal-300) 70%, #000 30%);
}

/* Link */
.article-body a{
  color: var(--teal-700);
  text-decoration: underline;
  text-decoration-thickness: from-font;
  text-underline-offset: 2px;
}
.article-body a:hover{
  text-decoration-color: currentColor;
}

/* Citazioni */
.article-body blockquote{
  margin: 1.4em 0;
  padding:.9em 1.1em;
  border-left:4px solid var(--gold-600);
  background:var(--quote-bg);
  font-style:italic;
  border-radius:8px;
  color:var(--text-strong);
}
.article-body blockquote > *:first-child{ margin-top:0 }
.article-body blockquote > *:last-child{ margin-bottom:0 }

/* Figure */
.article-body figure{ margin:1.4em 0; }
.article-body img{
  display:block; max-width:100%; height:auto; border-radius:10px;
}
.article-body figcaption{
  opacity:.85; font-size:.95rem; margin-top:.5em;
  text-align:center; color:var(--text-strong);
}

.article-body figure.is-full-bleed{
  width:100vw; margin-left:50%;
  transform:translateX(-50%);
  max-width:none;
}
.article-body figure.is-full-bleed img{ border-radius:0 }

/* Tabelle */
.article-body table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  margin:1.2em 0;
  font-size:.98rem;
  border:1px solid var(--rule-soft);
  border-radius:10px;
  overflow:hidden;
  color:var(--text-strong);
  background:#FFF;
  display:block;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
}
.article-body thead th{
  text-align:left;
  padding:.75em .8em;
  background:var(--sheet-bg);
  border-bottom:1px solid var(--rule-soft);
  position: sticky;
  left: 0;
}
.article-body td, .article-body th{
  white-space: nowrap;
}
.article-body td{
  padding:.7em .8em;
  border-bottom:1px solid #EEE;
}
.article-body tr:last-child td{ border-bottom:0; }

/* Code */
.article-body pre{
  padding:14px 16px;
  overflow:auto;
  border-radius:10px;
  background:var(--pre-bg);
  border:1px solid var(--rule-soft);
  box-shadow: inset 0 1px 0 rgba(0,0,0,.03);
  line-height:1.58;
  color:var(--text-strong);
}
.article-body code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size:.94em;
  color:var(--text-strong);
}
.article-body :not(pre) > code{
  background:var(--pre-bg);
  border:1px solid var(--rule-soft);
  padding:.08em .35em;
  border-radius:6px;
  color:var(--text-strong);
}

/* Note / callout */
.article-body .callout{
  margin:1.2em 0; padding:.9em 1em;
  border:1px solid var(--rule-soft);
  border-radius:10px;
  background:#FFFFFF;
  color:var(--text-strong);
}
.article-body .callout.is-info{
  border-color: color-mix(in oklab, var(--teal-300) 35%, #000 65%);
}
.article-body .callout.is-warn{
  border-color: color-mix(in oklab, var(--gold-600) 45%, #000 55%);
}

/* Separatore */
.article-body hr{
  height:1px; border:0;
  background: linear-gradient(90deg, transparent, var(--rule-soft), transparent);
  margin:2.2em 0;
}

/* Accessibilità */
.article-body ::selection{
  background: color-mix(in oklab, var(--teal-300) 25%, #FFF 75%);
  color:var(--text-strong);
}
.article-body a:focus-visible{
  outline:2px solid color-mix(in oklab, var(--teal-300) 85%, #000 15%);
  outline-offset:2px;
}

/* Forza la selezionabilità del testo nel corpo articoli */
.article-body, .article-body *{
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}

/* ---------- Utilities: alignment / floats / widths ---------- */
.article-body .align-center{ text-align:center; }
.article-body .align-right{ text-align:right; }
.article-body .align-center img{ display:block; margin-inline:auto; }
.article-body .align-right img{ display:block; margin-left:auto; }

.article-body .float-right{ float:right; margin: .2em 0 .8em 1em; max-width:45%; }
.article-body .float-left{  float:left;  margin: .2em 1em .8em 0;  max-width:45%; }
.article-body::after{ content:""; display:block; clear:both; }

.article-body img.w-33{ width:33%; }
.article-body img.w-50{ width:50%; }
.article-body img.w-66{ width:66%; }

/* Buttons group with alignment */
.article-body .btn-group{ display:flex; gap:12px; flex-wrap:wrap; }
.article-body .btn-group.is-center{ justify-content:center; }
.article-body .btn-group.is-right{ justify-content:flex-end; }

/* Responsive */
@media (max-width: 480px){
  .article-body.container{ padding-bottom: 96px; }
  .article-body table{ font-size:.95rem; }
}

/* Print */
@media print{
  .article{ padding-top:0; background:#FFF; }
  .article-hero{ border:0; }
  .article-body.container{
    background:#FFF; border:0; box-shadow:none; padding:0;
  }
  .article-body a{ color:#000; text-decoration:underline; }
  .article-body pre{ border:1px solid #000; background:#FFF; }
}

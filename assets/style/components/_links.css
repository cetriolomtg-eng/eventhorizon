/* ============================================================
   Links.css
   ============================================================ */
.links {
  /* Tema sezione (scuro) */
  --links-bg: var(--neutral-900, #0E0F1A);
  --links-text: var(--neutral-50, #F3F2F7);
  background: var(--links-bg);
  color: var(--links-text);
  padding: clamp(32px, 6vw, 72px) 0;

  /* Container identico a Cards (4 colonne virtuali) */
  --card-w: 320px;
  --grid-gap: 16px;
  --container-pad-x: var(--container-pad-x, 16px);
  --container-max: calc(
    (4 * var(--card-w)) +
    (3 * var(--grid-gap)) +
    (2 * var(--container-pad-x, 16px))
  );

  /* Parametri autoplay letti da links.js */
  --links-auto-speed: 36;   /* px/s (cambia qui per piÃ¹ lento/veloce) */
  --links-auto-ignore-rmw: 0; /* 0 = rispetta â€œRiduci animazioniâ€ */
}
@media (min-width: 480px){
  .links{
    --card-w: 340px;
    --grid-gap: 20px;
    --container-max: calc(
      (4 * var(--card-w)) +
      (3 * var(--grid-gap)) +
      (2 * var(--container-pad-x, 16px))
    );
  }
}
@media (min-width: 1024px){
  .links{
    --card-w: 360px;
    --grid-gap: 22px;
    --container-max: calc(
      (4 * var(--card-w)) +
      (3 * var(--grid-gap)) +
      (2 * var(--container-pad-x, 16px))
    );
  }
}

.links__inner{
  width: min(100%, var(--container-max));
  margin-inline: auto;
  padding-inline: var(--container-pad-x, 16px); /* allineato a Cards */
}

.links__title{
  margin: 0 0 16px;               /* stesso spacing del titolo Cards */
  font-family: var(--font-sans, "Lexend Deca", system-ui, sans-serif);
  font-weight: var(--fw-black, 900);
  font-size: var(--fs-h2, clamp(1.5rem, 1.1vw + 1.2rem, 2rem));
  line-height: var(--lh-tight, 1.15);
  color: var(--links-text);
}

/* =========================
   Track: reset UL + griglia (mobile/tablet)
   ========================= */
.links__carousel{ position: relative; }

.links__track{
  list-style: none;
  padding-left: 0;
  margin: 0;

  display: flex;
  flex-wrap: wrap;                /* griglia per mobile/tablet */
  justify-content: center;        /* come le Cards */
  align-items: stretch;

  gap: var(--grid-gap);
  column-gap: var(--grid-gap);
  row-gap: var(--grid-gap);
}
.links__track > li{ list-style: none; }
.links__track > li::marker{ content: ''; }

/* =========================
   Card compatte (chiare) â€” altezza uniforme
   ========================= */
.link-card{
  --link-w: 240px;                 /* aumenta a 260px per meno colonne */
  flex: 0 0 var(--link-w);
  max-width: var(--link-w);
  box-sizing: border-box;
}

.link-card__link{
  --link-h: 96px;                  /* 92â€“100px suggerito */
  height: var(--link-h);

  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;

  background: #ffffff;             /* cards chiare su sezione scura */
  color: var(--text-900, #0E0F1A);
  border: 1px solid color-mix(in oklab, var(--indigo-900, #2F2760) 10%, transparent);
  border-radius: 12px;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);

  text-decoration: none;
  /* niente transform nell'hover (zero â€œsaltelliâ€) */
  transition: box-shadow 160ms ease, background-color 160ms ease;
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;                /* sicurezza anti overflow */
}

.link-card__logo{
  display: block;
  width: 40px;
  height: 40px;
  aspect-ratio: 1 / 1;
  object-fit: contain;
  flex: 0 0 auto;
}
@media (min-width: 768px){  .link-card__logo{ width: 44px; height: 44px; } }
@media (min-width: 1280px){ .link-card__logo{ width: 52px; height: 52px; } }

.link-card__meta{ display: grid; min-width: 0; }

.link-card__name,
.link-card__copy{
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
}
.link-card__name{
  -webkit-line-clamp: 2;           /* max 2 righe */
  line-height: 1.2;
  font-weight: var(--fw-semibold, 600);
  font-size: clamp(0.95rem, 1.8vw, 1rem);
  margin-bottom: 2px;
  color: var(--text-900, #0E0F1A);
}
.link-card__copy{
  -webkit-line-clamp: 1;           /* singola riga */
  opacity: 0.85;
  line-height: 1.3;
  font-size: clamp(0.8rem, 1.5vw, 0.9rem);
  color: var(--text-800, #22232C);
}

/* Hover & Focus (senza movimento) */
.link-card__link:hover{
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
  background: color-mix(in oklab, white 92%, color-mix(in oklab, var(--indigo-900, #2F2760) 6%, transparent));
}
.link-card__link:focus-visible{
  outline: 2px solid var(--gold-500, #E0A402);
  outline-offset: 3px;
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  .link-card__link{ transition: none; }
}

/* =========================
   Desktop (â‰¥1024px): riga scrollabile con snap + edge-fade
   ========================= */
@media (min-width: 1024px){
  .links__carousel{
    overflow: hidden;              /* viewport per edge-fade */
  }

  .links__track{
    flex-wrap: nowrap;             /* riga singola */
    justify-content: flex-start;   /* fondamentale per il loop JS */
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;         /* FF: nasconde scrollbar */
    scroll-snap-type: x proximity; /* snap dolce */
    gap: var(--grid-gap);
    padding-bottom: 8px;           /* evita ritaglio delle ombre */

    overscroll-behavior-x: contain;       /* evita lo â€œscroll chainingâ€ verso la pagina */
    scrollbar-gutter: stable both-edges;  /* stabilizza il layout quando appare la scrollbar */
  }
  .links__track::-webkit-scrollbar{ display: none; } /* WebKit: nasconde scrollbar */

  .link-card{
    flex: 0 0 var(--link-w);       /* larghezza fissa per snap */
    scroll-snap-align: start;
  }

  /* Edge-fade ai lati del viewport (fallback) */
  .links__carousel::before,
  .links__carousel::after{
    content: "";
    position: absolute;
    top: 0; bottom: 0;
    width: 36px;                   /* intensitÃ  dissolvenza */
    pointer-events: none;          /* non blocca i click/scroll */
    z-index: 1;
  }
  .links__carousel::before{
    left: 0;
    background: linear-gradient(to right, var(--links-bg) 0%, rgba(25,26,35,0) 100%);
  }
  .links__carousel::after{
    right: 0;
    background: linear-gradient(to left, var(--links-bg) 0%, rgba(25,26,35,0) 100%);
  }
}

/* Nascondi scrollbar orizzontale tra 790px e 1023px */
@media (min-width: 790px) and (max-width: 1023.98px){
  .links__track{
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;      /* Firefox */
  }
  .links__track::-webkit-scrollbar{
    display: none;              /* WebKit */
  }
}
/* Nascondi scrollbar orizzontale tra 790px e 1023px */

/* =========================
   UX drag + init fade + mobile sizing
   ========================= */
/* Drag: cursore e blocco click durante trascinamento */
.links__track { cursor: grab; }
.links__track.is-dragging { cursor: grabbing; user-select: none; }
.links__track.is-dragging .link-card__link { pointer-events: none; }

/* Fade-in all'abilitazione desktop (gestito dal JS) */
.links__track.is-initializing { opacity: 0; }
.links__track.is-ready { opacity: 1; transition: opacity 200ms ease; }
@media (prefers-reduced-motion: reduce){
  .links__track.is-ready { transition: none; }
}

/* Mobile: card piÃ¹ piccole (baseline) */
@media (max-width: 479.98px){
  .link-card { --link-w: 200px; }
  .link-card__link { --link-h: 88px; padding: 12px 14px; }
  .link-card__logo { width: 36px; height: 36px; }
}

@media (min-width: 1024px){
  .links{
    --links-auto-speed: 32; /* piÃ¹ fluido, non eccessivo */
  }
}

/* =========================
   Extra-compact Mobile (<768px)
   ========================= */
@media (max-width: 767.98px){
  /* Card extra-compatte */
  .links .link-card {
    --link-w: 150px;
    max-width: var(--link-w);
    flex: 0 0 var(--link-w);
  }

  /* Contenuto piÃ¹ ridotto */
  .links .link-card__link {
    --link-h: 70px;
    height: var(--link-h);
    padding: 8px 10px;
    gap: 6px;
  }

  /* Logo piÃ¹ piccolo */
  .links .link-card__logo {
    width: 24px;
    height: 24px;
  }

  /* Nascondi testo descrittivo */
  .links .link-card__copy {
    display: none !important;
  }

  /* Track con gap minore */
  .links .links__track {
    gap: 6px;
  }
}

/* =========================
   Variante: Link Card Full Logo
   ========================= */
.link-card.link-card--full .link-card__link {
  justify-content: center;
  padding: 0;               /* niente padding interno */
}

.link-card.link-card--full .link-card__logo {
  width: 72px;
  height: 72px;
  margin: auto;
}
@media (min-width: 768px){
  .link-card.link-card--full .link-card__logo {
    width: 88px;
    height: 88px;
  }
}
@media (min-width: 1280px){
  .link-card.link-card--full .link-card__logo {
    width: 100px;
    height: 100px;
  }
}

/* Nascondi meta info */
.link-card.link-card--full .link-card__meta {
  display: none;
}

.links .link-card__name{ letter-spacing: var(--trk-slight); }
.links .link-card__copy{ letter-spacing: 0; }

/* Edge-fade via mask-image (fallback: ::before/::after) >>> */
@supports ((-webkit-mask-image: linear-gradient(to right, rgba(0,0,0,0), #000)) or
           (mask-image: linear-gradient(to right, rgba(0,0,0,0), #000))) {
  @media (min-width: 1024px){
    .links__carousel{
      position: relative; /* garanzia */
      /* Opaco al centro, trasparente ai lati (36px come UI attuale) */
      -webkit-mask-image: linear-gradient(to right,
        transparent 0,
        #000 36px,
        #000 calc(100% - 36px),
        transparent 100%);
              mask-image: linear-gradient(to right,
        transparent 0,
        #000 36px,
        #000 calc(100% - 36px),
        transparent 100%);
      -webkit-mask-size: 100% 100%;
              mask-size: 100% 100%;
      -webkit-mask-repeat: no-repeat;
              mask-repeat: no-repeat;
    }
    /* Evita doppio effetto quando la mask Ã¨ disponibile */
    .links__carousel::before,
    .links__carousel::after{
      display: none !important;
    }
  }
}